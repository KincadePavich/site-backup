<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/home/conner/Desktop/WolfSSL_Docs/doxygen/dox_repo/wolfssl/wolfssl/wolfcrypt/memory.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dfb12bfb545c81f98c26cc500f1dbda8.html">wolfssl</a></li><li class="navelem"><a class="el" href="dir_82794da501e4dededf736909a151513c.html">wolfssl</a></li><li class="navelem"><a class="el" href="dir_bc71be20e808467ceb976987b7b00b8f.html">wolfcrypt</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">memory.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* memory.h</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 2006-2016 wolfSSL Inc.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of wolfSSL.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * wolfSSL is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * (at your option) any later version.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * wolfSSL is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1335, USA</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/* submitted by eof */</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifndef WOLFSSL_MEMORY_H</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define WOLFSSL_MEMORY_H</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;wolfssl/wolfcrypt/types.h&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#ifdef WOLFSSL_STATIC_MEMORY</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">    #ifdef WOLFSSL_DEBUG_MEMORY</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">void</span> *(*wolfSSL_Malloc_cb)(<span class="keywordtype">size_t</span> size, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keyword">typedef</span> void (*wolfSSL_Free_cb)(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">void</span> *(*wolfSSL_Realloc_cb)(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">size_t</span> size, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>* <a class="code" href="group__Memory.html#ga43cd6c1b47aded7b6e24246e1121631c">wolfSSL_Malloc</a>(<span class="keywordtype">size_t</span> size, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>  <a class="code" href="group__Memory.html#ga7a111e7a00ab66cece6ccf8cd0f60779">wolfSSL_Free</a>(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>* <a class="code" href="group__Memory.html#ga29aa781497ad28d68f4e9dd70dbf9cf0">wolfSSL_Realloc</a>(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">size_t</span> size, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">    #else</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">void</span> *(*wolfSSL_Malloc_cb)(<span class="keywordtype">size_t</span> size, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keyword">typedef</span> void (*wolfSSL_Free_cb)(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">void</span> *(*wolfSSL_Realloc_cb)(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">size_t</span> size, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>* <a class="code" href="group__Memory.html#ga43cd6c1b47aded7b6e24246e1121631c">wolfSSL_Malloc</a>(<span class="keywordtype">size_t</span> size, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>  <a class="code" href="group__Memory.html#ga7a111e7a00ab66cece6ccf8cd0f60779">wolfSSL_Free</a>(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>* <a class="code" href="group__Memory.html#ga29aa781497ad28d68f4e9dd70dbf9cf0">wolfSSL_Realloc</a>(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">size_t</span> size, <span class="keywordtype">void</span>* heap, <span class="keywordtype">int</span> type);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">    #endif </span><span class="comment">/* WOLFSSL_DEBUG_MEMORY */</span><span class="preprocessor"></span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">    #ifdef WOLFSSL_DEBUG_MEMORY</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">void</span> *(*wolfSSL_Malloc_cb)(<span class="keywordtype">size_t</span> size, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keyword">typedef</span> void (*wolfSSL_Free_cb)(<span class="keywordtype">void</span> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">void</span> *(*wolfSSL_Realloc_cb)(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">size_t</span> size, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">/* Public in case user app wants to use XMALLOC/XFREE */</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>* <a class="code" href="group__Memory.html#ga43cd6c1b47aded7b6e24246e1121631c">wolfSSL_Malloc</a>(<span class="keywordtype">size_t</span> size, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>  <a class="code" href="group__Memory.html#ga7a111e7a00ab66cece6ccf8cd0f60779">wolfSSL_Free</a>(<span class="keywordtype">void</span> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>* <a class="code" href="group__Memory.html#ga29aa781497ad28d68f4e9dd70dbf9cf0">wolfSSL_Realloc</a>(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">size_t</span> size, <span class="keyword">const</span> <span class="keywordtype">char</span>* func, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="preprocessor">    #else</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">void</span> *(*wolfSSL_Malloc_cb)(<span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keyword">typedef</span> void (*wolfSSL_Free_cb)(<span class="keywordtype">void</span> *ptr);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">void</span> *(*wolfSSL_Realloc_cb)(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">/* Public in case user app wants to use XMALLOC/XFREE */</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>* <a class="code" href="group__Memory.html#ga43cd6c1b47aded7b6e24246e1121631c">wolfSSL_Malloc</a>(<span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>  <a class="code" href="group__Memory.html#ga7a111e7a00ab66cece6ccf8cd0f60779">wolfSSL_Free</a>(<span class="keywordtype">void</span> *ptr);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        WOLFSSL_API <span class="keywordtype">void</span>* <a class="code" href="group__Memory.html#ga29aa781497ad28d68f4e9dd70dbf9cf0">wolfSSL_Realloc</a>(<span class="keywordtype">void</span> *ptr, <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">    #endif </span><span class="comment">/* WOLFSSL_DEBUG_MEMORY */</span><span class="preprocessor"></span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* WOLFSSL_STATIC_MEMORY */</span><span class="preprocessor"></span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">/* Public get/set functions */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;WOLFSSL_API <span class="keywordtype">int</span> <a class="code" href="group__Memory.html#ga47a9702df2b8249d1a5002509d0a64ad">wolfSSL_SetAllocators</a>(wolfSSL_Malloc_cb,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                      wolfSSL_Free_cb,</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                      wolfSSL_Realloc_cb);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;WOLFSSL_API <span class="keywordtype">int</span> wolfSSL_GetAllocators(wolfSSL_Malloc_cb*,</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                      wolfSSL_Free_cb*,</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                      wolfSSL_Realloc_cb*);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#ifdef WOLFSSL_STATIC_MEMORY</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor">    #define WOLFSSL_STATIC_TIMEOUT 1</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="preprocessor">    #ifndef WOLFSSL_STATIC_ALIGN</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">        #define WOLFSSL_STATIC_ALIGN 16</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="preprocessor">    #ifndef WOLFMEM_MAX_BUCKETS</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="preprocessor">        #define WOLFMEM_MAX_BUCKETS  9</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="preprocessor">    #define WOLFMEM_DEF_BUCKETS  9     </span><span class="comment">/* number of default memory blocks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="preprocessor">    #define WOLFMEM_IO_SZ        16992 </span><span class="comment">/* 16 byte aligned */</span><span class="preprocessor"></span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">    #ifndef WOLFMEM_BUCKETS</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="comment">/* default size of chunks of memory to seperate into</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">         * having session certs enabled makes a 21k SSL struct */</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">        #ifndef SESSION_CERTS</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">            #define WOLFMEM_BUCKETS 64,128,256,512,1024,2432,3456,4544,16128</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="preprocessor">        #else</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="preprocessor">            #define WOLFMEM_BUCKETS 64,128,256,512,1024,2432,3456,4544,21056</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">    #ifndef WOLFMEM_DIST</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor">        #define WOLFMEM_DIST    8,4,4,12,4,5,8,1,1</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">/* flags for loading static memory (one hot bit) */</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">    #define WOLFMEM_GENERAL       0x01</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor">    #define WOLFMEM_IO_POOL       0x02</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="preprocessor">    #define WOLFMEM_IO_POOL_FIXED 0x04</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="preprocessor">    #define WOLFMEM_TRACK_STATS   0x08</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor">    #ifndef WOLFSSL_MEM_GUARD</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor">    #define WOLFSSL_MEM_GUARD</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structWOLFSSL__MEM__STATS.html">WOLFSSL_MEM_STATS</a>      <a class="code" href="structWOLFSSL__MEM__STATS.html">WOLFSSL_MEM_STATS</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structWOLFSSL__MEM__CONN__STATS.html">WOLFSSL_MEM_CONN_STATS</a> <a class="code" href="structWOLFSSL__MEM__CONN__STATS.html">WOLFSSL_MEM_CONN_STATS</a>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="structWOLFSSL__MEM__CONN__STATS.html">  299</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structWOLFSSL__MEM__CONN__STATS.html">WOLFSSL_MEM_CONN_STATS</a> {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        word32 peakMem;   <span class="comment">/* peak memory usage    */</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        word32 curMem;    <span class="comment">/* current memory usage */</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        word32 peakAlloc; <span class="comment">/* peak memory allocations */</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        word32 curAlloc;  <span class="comment">/* current memory allocations */</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        word32 totalAlloc;<span class="comment">/* total memory allocations for lifetime */</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        word32 totalFr;   <span class="comment">/* total frees for lifetime */</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    };</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="structWOLFSSL__MEM__STATS.html">  308</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structWOLFSSL__MEM__STATS.html">WOLFSSL_MEM_STATS</a> {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        word32 curAlloc;  <span class="comment">/* current memory allocations */</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        word32 totalAlloc;<span class="comment">/* total memory allocations for lifetime */</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        word32 totalFr;   <span class="comment">/* total frees for lifetime */</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        word32 totalUse;  <span class="comment">/* total amount of memory used in blocks */</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        word32 avaIO;     <span class="comment">/* available IO specific pools */</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        word32 maxHa;     <span class="comment">/* max number of concurent handshakes allowed */</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        word32 maxIO;     <span class="comment">/* max number of concurent IO connections allowed */</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        word32 blockSz[WOLFMEM_MAX_BUCKETS]; <span class="comment">/* block sizes in stacks */</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        word32 avaBlock[WOLFMEM_MAX_BUCKETS];<span class="comment">/* ava block sizes */</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        word32 usedBlock[WOLFMEM_MAX_BUCKETS];</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordtype">int</span>    flag; <span class="comment">/* flag used */</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    };</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structwc__Memory.html">wc_Memory</a> <a class="code" href="structwc__Memory.html">wc_Memory</a>; <span class="comment">/* internal structure for mem bucket */</span></div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="structWOLFSSL__HEAP.html">  323</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structWOLFSSL__HEAP.html">WOLFSSL_HEAP</a> {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="structwc__Memory.html">wc_Memory</a>* ava[WOLFMEM_MAX_BUCKETS];</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <a class="code" href="structwc__Memory.html">wc_Memory</a>* io;                  <span class="comment">/* list of buffers to use for IO */</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        word32     maxHa;               <span class="comment">/* max concurent handshakes */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        word32     curHa;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        word32     maxIO;               <span class="comment">/* max concurrent IO connections */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        word32     curIO;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        word32     sizeList[WOLFMEM_MAX_BUCKETS];<span class="comment">/* memory sizes in ava list */</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        word32     distList[WOLFMEM_MAX_BUCKETS];<span class="comment">/* general distribution */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        word32     inUse; <span class="comment">/* amount of memory currently in use */</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        word32     ioUse;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        word32     alloc; <span class="comment">/* total number of allocs */</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        word32     frAlc; <span class="comment">/* total number of frees  */</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordtype">int</span>        flag;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="structwolfSSL__Mutex.html">wolfSSL_Mutex</a> memory_mutex;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    } <a class="code" href="structWOLFSSL__HEAP.html">WOLFSSL_HEAP</a>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">/* structure passed into XMALLOC as heap hint</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">     * having this abstraction allows tracking statistics of individual ssl&#39;s</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="structWOLFSSL__HEAP__HINT.html">  343</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structWOLFSSL__HEAP__HINT.html">WOLFSSL_HEAP_HINT</a> {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="structWOLFSSL__HEAP.html">WOLFSSL_HEAP</a>*           memory;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="structWOLFSSL__MEM__CONN__STATS.html">WOLFSSL_MEM_CONN_STATS</a>* stats;  <span class="comment">/* hold individual connection stats */</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="structwc__Memory.html">wc_Memory</a>*  outBuf; <span class="comment">/* set if using fixed io buffers */</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <a class="code" href="structwc__Memory.html">wc_Memory</a>*  inBuf;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        byte        haFlag; <span class="comment">/* flag used for checking handshake count */</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    } <a class="code" href="structWOLFSSL__HEAP__HINT.html">WOLFSSL_HEAP_HINT</a>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    WOLFSSL_API <span class="keywordtype">int</span> wc_LoadStaticMemory(<a class="code" href="structWOLFSSL__HEAP__HINT.html">WOLFSSL_HEAP_HINT</a>** pHint,</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sz, <span class="keywordtype">int</span> flag, <span class="keywordtype">int</span> max);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    WOLFSSL_LOCAL <span class="keywordtype">int</span> wolfSSL_init_memory_heap(<a class="code" href="structWOLFSSL__HEAP.html">WOLFSSL_HEAP</a>* heap);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    WOLFSSL_LOCAL <span class="keywordtype">int</span> wolfSSL_load_static_memory(byte* <a class="code" href="structWOLFSSL__BUFFER__INFO.html">buffer</a>, word32 sz,</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                                  <span class="keywordtype">int</span> flag, <a class="code" href="structWOLFSSL__HEAP.html">WOLFSSL_HEAP</a>* heap);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    WOLFSSL_LOCAL <span class="keywordtype">int</span> wolfSSL_GetMemStats(<a class="code" href="structWOLFSSL__HEAP.html">WOLFSSL_HEAP</a>* heap,</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                                                      <a class="code" href="structWOLFSSL__MEM__STATS.html">WOLFSSL_MEM_STATS</a>* stats);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    WOLFSSL_LOCAL <span class="keywordtype">int</span> SetFixedIO(<a class="code" href="structWOLFSSL__HEAP.html">WOLFSSL_HEAP</a>* heap, <a class="code" href="structwc__Memory.html">wc_Memory</a>** io);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    WOLFSSL_LOCAL <span class="keywordtype">int</span> FreeFixedIO(<a class="code" href="structWOLFSSL__HEAP.html">WOLFSSL_HEAP</a>* heap, <a class="code" href="structwc__Memory.html">wc_Memory</a>** io);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    WOLFSSL_API <span class="keywordtype">int</span> <a class="code" href="group__Memory.html#gaa631515e3a98f7db946125c3c67b7181">wolfSSL_StaticBufferSz</a>(byte* <a class="code" href="structWOLFSSL__BUFFER__INFO.html">buffer</a>, word32 sz, <span class="keywordtype">int</span> flag);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    WOLFSSL_API <span class="keywordtype">int</span> <a class="code" href="group__Memory.html#gacda3d17a7af62ac899084ecdeccf378f">wolfSSL_MemoryPaddingSz</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* WOLFSSL_STATIC_MEMORY */</span><span class="preprocessor"></span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }  <span class="comment">/* extern &quot;C&quot; */</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* WOLFSSL_MEMORY_H */</span><span class="preprocessor"></span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="ttc" id="group__Memory_html_ga7a111e7a00ab66cece6ccf8cd0f60779"><div class="ttname"><a href="group__Memory.html#ga7a111e7a00ab66cece6ccf8cd0f60779">wolfSSL_Free</a></div><div class="ttdeci">WOLFSSL_API void wolfSSL_Free(void *ptr, void *heap, int type, const char *func, unsigned int line)</div><div class="ttdoc">This function calls a custom free function, if one has been defined, or simply calls the default C fr...</div></div>
<div class="ttc" id="structWOLFSSL__HEAP__HINT_html"><div class="ttname"><a href="structWOLFSSL__HEAP__HINT.html">WOLFSSL_HEAP_HINT</a></div><div class="ttdef"><b>Definition:</b> memory.h:343</div></div>
<div class="ttc" id="group__Memory_html_ga29aa781497ad28d68f4e9dd70dbf9cf0"><div class="ttname"><a href="group__Memory.html#ga29aa781497ad28d68f4e9dd70dbf9cf0">wolfSSL_Realloc</a></div><div class="ttdeci">WOLFSSL_API void * wolfSSL_Realloc(void *ptr, size_t size, void *heap, int type, const char *func, unsigned int line)</div><div class="ttdoc">This function calls a custom realloc function, if one has been defined, or simply calls the default C...</div></div>
<div class="ttc" id="structwolfSSL__Mutex_html"><div class="ttname"><a href="structwolfSSL__Mutex.html">wolfSSL_Mutex</a></div><div class="ttdef"><b>Definition:</b> wc_port.h:112</div></div>
<div class="ttc" id="group__Memory_html_ga43cd6c1b47aded7b6e24246e1121631c"><div class="ttname"><a href="group__Memory.html#ga43cd6c1b47aded7b6e24246e1121631c">wolfSSL_Malloc</a></div><div class="ttdeci">WOLFSSL_API void * wolfSSL_Malloc(size_t size, void *heap, int type, const char *func, unsigned int line)</div><div class="ttdoc">This function calls the custom malloc function, if one has been defined, or simply calls the default ...</div></div>
<div class="ttc" id="structWOLFSSL__MEM__STATS_html"><div class="ttname"><a href="structWOLFSSL__MEM__STATS.html">WOLFSSL_MEM_STATS</a></div><div class="ttdef"><b>Definition:</b> memory.h:308</div></div>
<div class="ttc" id="group__Memory_html_gacda3d17a7af62ac899084ecdeccf378f"><div class="ttname"><a href="group__Memory.html#gacda3d17a7af62ac899084ecdeccf378f">wolfSSL_MemoryPaddingSz</a></div><div class="ttdeci">WOLFSSL_API int wolfSSL_MemoryPaddingSz(void)</div><div class="ttdoc">This function is available when static memory feature is used (–enable-staticmemory). It gives the size of padding needed for each partition of memory. This padding size will be the size needed to contain a memory management structure along with any extra for memory alignment. </div><div class="ttdef"><b>Definition:</b> memory.c:368</div></div>
<div class="ttc" id="group__Memory_html_gaa631515e3a98f7db946125c3c67b7181"><div class="ttname"><a href="group__Memory.html#gaa631515e3a98f7db946125c3c67b7181">wolfSSL_StaticBufferSz</a></div><div class="ttdeci">WOLFSSL_API int wolfSSL_StaticBufferSz(byte *buffer, word32 sz, int flag)</div><div class="ttdoc">This function is available when static memory feature is used (–enable-staticmemory). It gives the optimum buffer size for memory “buckets”. This allows for a way to compute buffer size so that no extra unused memory is left at the end after it has been partitioned. The returned value, if positive, is the computed buffer size to use. </div><div class="ttdef"><b>Definition:</b> memory.c:378</div></div>
<div class="ttc" id="structWOLFSSL__BUFFER__INFO_html"><div class="ttname"><a href="structWOLFSSL__BUFFER__INFO.html">WOLFSSL_BUFFER_INFO</a></div><div class="ttdef"><b>Definition:</b> ssl.h:258</div></div>
<div class="ttc" id="structWOLFSSL__HEAP_html"><div class="ttname"><a href="structWOLFSSL__HEAP.html">WOLFSSL_HEAP</a></div><div class="ttdef"><b>Definition:</b> memory.h:323</div></div>
<div class="ttc" id="group__Memory_html_ga47a9702df2b8249d1a5002509d0a64ad"><div class="ttname"><a href="group__Memory.html#ga47a9702df2b8249d1a5002509d0a64ad">wolfSSL_SetAllocators</a></div><div class="ttdeci">WOLFSSL_API int wolfSSL_SetAllocators(wolfSSL_Malloc_cb, wolfSSL_Free_cb, wolfSSL_Realloc_cb)</div><div class="ttdoc">This function registers the allocation functions used by wolfSSL. By default, if the system supports ...</div><div class="ttdef"><b>Definition:</b> memory.c:53</div></div>
<div class="ttc" id="structWOLFSSL__MEM__CONN__STATS_html"><div class="ttname"><a href="structWOLFSSL__MEM__CONN__STATS.html">WOLFSSL_MEM_CONN_STATS</a></div><div class="ttdef"><b>Definition:</b> memory.h:299</div></div>
<div class="ttc" id="structwc__Memory_html"><div class="ttname"><a href="structwc__Memory.html">wc_Memory</a></div><div class="ttdef"><b>Definition:</b> memory.c:158</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
