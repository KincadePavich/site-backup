<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>wolfSSL and wolfCrypt Xcode Projects for OS X and iOS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespacewolfSSL.html">wolfSSL</a> and wolfCrypt Xcode Projects for OS X and iOS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This directory contains the following files:</p>
<ol type="1">
<li><code>wolfssl.xcworkspace</code> &ndash; workspace with library and testsuite client</li>
<li><code>wolfssl_testsuite.xcodeproj</code> &ndash; project to run the testsuite.</li>
<li><code>wolfssl.xcodeproj</code> &ndash; project to build OS/x and iOS libraries for <a class="el" href="namespacewolfSSL.html">wolfSSL</a> and/or wolfCrypt</li>
<li><code>wolfssl-FIPS.xcodeproj</code> &ndash; project to build <a class="el" href="namespacewolfSSL.html">wolfSSL</a> and wolfCrypt-FIPS if available</li>
<li><code>user_settings.h</code> &ndash; custom library settings, which are shared across projects</li>
</ol>
<p>The library will output as <code>libwolfssl_osx.a</code> or 'libwolfssl_ios.a` depending on the target. It will also copy the wolfSSL/wolfCrypt (and the CyaSSL/CtaoCrypt compatibility) headers into an <code>include</code> directory located in <code>Build/Products/Debug</code> or <code>Build/Products/Release</code>.</p>
<p>For the library and testsuite to link properly the build location needs to be configured as realitive to workspace.</p><ol type="1">
<li>File -&gt; Workspace Settings (or Xcode -&gt; Preferences -&gt; Locations -&gt; Locations)</li>
<li>Derived Data -&gt; Advanced</li>
<li>Custom -&gt; Relative to Workspace</li>
<li>Products -&gt; Build/Products</li>
</ol>
<p>These Xcode projects define the <code>WOLFSSL_USER_SETTINGS</code> preprocessor to enable the <code>user_settings.h</code> file for setting macros across multiple projects.</p>
<p>If needed the Xcode preprocessors can be modifed with these steps:</p><ol type="1">
<li>Click on the Project in "Project Navigator".</li>
<li>Click on the "Build Settings" tab.</li>
<li>Scroll down to the "Apple LLVM 6.0 - Preprocessing" section.</li>
<li>Open the disclosure for "Preprocessor Macros" and use the "+" and "-" buttons to modify. Remember to do this for both Debug and Release.</li>
</ol>
<h2><a class="el" href="namespacewolfSSL.html">wolfSSL</a></h2>
<p>This project should build <a class="el" href="namespacewolfSSL.html">wolfSSL</a> and wolfCrypt using the default settings.</p>
<h2>wolfSSL-FIPS</h2>
<p>To use the FIPS version, one must have the FIPS sources. The project won't build without them. Please contact <a href="#" onclick="location.href='mai'+'lto:'+'inf'+'o@'+'wol'+'fs'+'sl.'+'co'+'m'; return false;">info@<span style="display: none;">.nosp@m.</span>wolf<span style="display: none;">.nosp@m.</span>ssl.c<span style="display: none;">.nosp@m.</span>om</a> for more information about wolfCrypt with FIPS.</p>
<p>By default, this builds the <a class="el" href="namespacewolfSSL.html">wolfSSL</a> and wolfCrypt with FIPS library. The default configuration enables the settings required for FIPS. Others may be turned on. The project also ensures the FIPS related objects are linked in the proper order.</p>
<h1>Building libwolfssl.a</h1>
<p>There are several options of builds. You can make a simulator build, or a device build. Both are debug builds.</p>
<p>You can make an archive for a device, as well. That is a release build.</p>
<h1>Installing libwolfssl.a</h1>
<p>Simply drag the file libwolfssl_XXX_.a and the directory <code>include</code> and drop it into your project file list pane where it makes sense for you. Allow it to copy the files over to the project directory. This should automatically add the library to the list of libraries to link against.</p>
<p>Click on your project target, then the "Build Phases" tab. On the targets list click your target. Click the disclosure triangle on the section "Link Binary
With Libraries" and verify libwolfssl.a is in the list. If not, click the "+", and on the "Choose framworks and libraries to add:" dialog, click the button "Add other..." then find the file libwolfssl.a.</p>
<p>Click on the "Build Settings" tab. Scroll down to the section "Search Paths". Add the path to the include directory to the list "Header Search Paths".</p>
<h2>When using FIPS</h2>
<p>When using the FIPS version the following preprocessors need to be defined:</p>
<ul>
<li><code>IPHONE</code></li>
<li><code>HAVE_FIPS</code></li>
<li><code>HAVE_HASHDRBG</code></li>
<li><code>HAVE_AESGCM</code></li>
<li><code>WOLFSSL_SHA512</code></li>
<li><code>WOLFSSL_SHA384</code></li>
<li><code>NO_MD4</code></li>
<li><code>NO_HC128</code></li>
<li><code>NO_RABBIT</code></li>
<li><code>NO_DSA</code></li>
<li><code>NO_PWDBASED</code></li>
</ul>
<p>The approved FIPS source files are from the CyaSSL project tag v3.4.8.fips. The files fips.c and fips_test.c, and the wolfCAVP test app are from the FIPS project tag v3.4.8a. The wolfSSL/wolfCrypt files are from tag v3.4.8.</p>
<h1>Using the FIPS library</h1>
<p>The FIPS library contains a self-check verify hash. Normally, on the desktop or server build, the library is built as a dynamic library. The library looks the same to every application that builds against it, and can be verified. For static libraries, when linking into your application, the addresses are all fixed, and the verify checksum becomes unusable. iOS does not allow dynamic libraries like this, so static builds are required. This creates a problem. Every time the application is changed, the FIPS checksum will change, because the FIPS library's position in the executable may change.</p>
<p>You need to add something to your application that will output the verifyCore value to be used. The verifyCore in fips_test.c will need to be updated with this value, the library rebuilt, and relinked into your application. The application should not be changed during this process or the verifyCore check will fail again. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
