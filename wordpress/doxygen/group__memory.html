<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Memory</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<img id="wolf" src="./wolfssl_logo.png"/>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Memory</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga43cd6c1b47aded7b6e24246e1121631c"><td class="memItemLeft" align="right" valign="top">WOLFSSL_API void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#ga43cd6c1b47aded7b6e24246e1121631c">wolfSSL_Malloc</a> (size_t size, void *heap, int type, const char *func, unsigned int line)</td></tr>
<tr class="memdesc:ga43cd6c1b47aded7b6e24246e1121631c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calls the custom malloc function, if one has been defined, or simply calls the default C malloc function if no custom function exists. It is not called directly by <a class="el" href="namespacewolfSSL.html">wolfSSL</a>, but instead generally called by using XMALLOC, which may be replaced by wolfSSL_Malloc during preprocessing.  <a href="#ga43cd6c1b47aded7b6e24246e1121631c">More...</a><br /></td></tr>
<tr class="separator:ga43cd6c1b47aded7b6e24246e1121631c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a111e7a00ab66cece6ccf8cd0f60779"><td class="memItemLeft" align="right" valign="top">WOLFSSL_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#ga7a111e7a00ab66cece6ccf8cd0f60779">wolfSSL_Free</a> (void *ptr, void *heap, int type, const char *func, unsigned int line)</td></tr>
<tr class="memdesc:ga7a111e7a00ab66cece6ccf8cd0f60779"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calls a custom free function, if one has been defined, or simply calls the default C free function if no custom function exists. It is not called directly by <a class="el" href="namespacewolfSSL.html">wolfSSL</a>, but instead generally called by using XFREE, which may be replaced by wolfSSL_Free during preprocessing.  <a href="#ga7a111e7a00ab66cece6ccf8cd0f60779">More...</a><br /></td></tr>
<tr class="separator:ga7a111e7a00ab66cece6ccf8cd0f60779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29aa781497ad28d68f4e9dd70dbf9cf0"><td class="memItemLeft" align="right" valign="top">WOLFSSL_API void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#ga29aa781497ad28d68f4e9dd70dbf9cf0">wolfSSL_Realloc</a> (void *ptr, size_t size, void *heap, int type, const char *func, unsigned int line)</td></tr>
<tr class="memdesc:ga29aa781497ad28d68f4e9dd70dbf9cf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calls a custom realloc function, if one has been defined, or simply calls the default C realloc function if no custom function exists. It is not called directly by <a class="el" href="namespacewolfSSL.html">wolfSSL</a>, but instead generally called by using XREALLOC, which may be replaced by wolfSSL_Realloc during preprocessing.  <a href="#ga29aa781497ad28d68f4e9dd70dbf9cf0">More...</a><br /></td></tr>
<tr class="separator:ga29aa781497ad28d68f4e9dd70dbf9cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47a9702df2b8249d1a5002509d0a64ad"><td class="memItemLeft" align="right" valign="top">WOLFSSL_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#ga47a9702df2b8249d1a5002509d0a64ad">wolfSSL_SetAllocators</a> (wolfSSL_Malloc_cb, wolfSSL_Free_cb, wolfSSL_Realloc_cb)</td></tr>
<tr class="memdesc:ga47a9702df2b8249d1a5002509d0a64ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function registers the allocation functions used by <a class="el" href="namespacewolfSSL.html">wolfSSL</a>. By default, if the system supports it, malloc/free and realloc are used. Using this function allows the user at runtime to install their own memory handlers.  <a href="#ga47a9702df2b8249d1a5002509d0a64ad">More...</a><br /></td></tr>
<tr class="separator:ga47a9702df2b8249d1a5002509d0a64ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa631515e3a98f7db946125c3c67b7181"><td class="memItemLeft" align="right" valign="top">WOLFSSL_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#gaa631515e3a98f7db946125c3c67b7181">wolfSSL_StaticBufferSz</a> (byte *<a class="el" href="structWOLFSSL__BUFFER__INFO.html">buffer</a>, word32 sz, int flag)</td></tr>
<tr class="memdesc:gaa631515e3a98f7db946125c3c67b7181"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is available when static memory feature is used (&ndash;enable-staticmemory). It gives the optimum buffer size for memory “buckets”. This allows for a way to compute buffer size so that no extra unused memory is left at the end after it has been partitioned. The returned value, if positive, is the computed buffer size to use.  <a href="#gaa631515e3a98f7db946125c3c67b7181">More...</a><br /></td></tr>
<tr class="separator:gaa631515e3a98f7db946125c3c67b7181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacda3d17a7af62ac899084ecdeccf378f"><td class="memItemLeft" align="right" valign="top">WOLFSSL_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#gacda3d17a7af62ac899084ecdeccf378f">wolfSSL_MemoryPaddingSz</a> (void)</td></tr>
<tr class="memdesc:gacda3d17a7af62ac899084ecdeccf378f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is available when static memory feature is used (&ndash;enable-staticmemory). It gives the size of padding needed for each partition of memory. This padding size will be the size needed to contain a memory management structure along with any extra for memory alignment.  <a href="#gacda3d17a7af62ac899084ecdeccf378f">More...</a><br /></td></tr>
<tr class="separator:gacda3d17a7af62ac899084ecdeccf378f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7a111e7a00ab66cece6ccf8cd0f60779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a111e7a00ab66cece6ccf8cd0f60779">&#9670;&nbsp;</a></span>wolfSSL_Free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WOLFSSL_API void wolfSSL_Free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calls a custom free function, if one has been defined, or simply calls the default C free function if no custom function exists. It is not called directly by <a class="el" href="namespacewolfSSL.html">wolfSSL</a>, but instead generally called by using XFREE, which may be replaced by wolfSSL_Free during preprocessing. </p>
<dl class="section return"><dt>Returns</dt><dd>none No returns.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>pointer to the memory to free</td></tr>
  </table>
  </dd>
</dl>
<p><em>Example</em> </p><div class="fragment"><div class="line"><span class="keywordtype">int</span>* tenInts = (<span class="keywordtype">int</span>*)<a class="code" href="group__memory.html#ga43cd6c1b47aded7b6e24246e1121631c">wolfSSL_Malloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*10);</div><div class="line"><span class="comment">// process data as desired</span></div><div class="line">...</div><div class="line">if(tenInts) {</div><div class="line">    <a class="code" href="group__wolfCrypt.html#gac1178ac0e3043b198245b971e1dc15e1">wolfSSL_Free</a>(tenInts);</div><div class="line">}</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__memory.html#ga43cd6c1b47aded7b6e24246e1121631c" title="This function calls the custom malloc function, if one has been defined, or simply calls the default ...">wolfSSL_Malloc</a> </dd>
<dd>
<a class="el" href="group__memory.html#ga29aa781497ad28d68f4e9dd70dbf9cf0" title="This function calls a custom realloc function, if one has been defined, or simply calls the default C...">wolfSSL_Realloc</a> </dd>
<dd>
<a class="el" href="group__types.html#gad0b82d4082e7a3624244a889b1c9d17f" title="This is not actually a function, but rather a preprocessor macro, which allows the user to substitute...">XMALLOC</a> </dd>
<dd>
<a class="el" href="group__types.html#gabd0f22726220c09d6fe995cca2ab8e1c" title="This is not actually a function, but rather a preprocessor macro, which allows the user to substitute...">XFREE</a> </dd>
<dd>
<a class="el" href="group__types.html#ga453bbd3ca6049edb834762ec34bfc1cf" title="This is not actually a function, but rather a preprocessor macro, which allows the user to substitute...">XREALLOC</a> </dd></dl>

</div>
</div>
<a id="ga43cd6c1b47aded7b6e24246e1121631c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43cd6c1b47aded7b6e24246e1121631c">&#9670;&nbsp;</a></span>wolfSSL_Malloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WOLFSSL_API void* wolfSSL_Malloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calls the custom malloc function, if one has been defined, or simply calls the default C malloc function if no custom function exists. It is not called directly by <a class="el" href="namespacewolfSSL.html">wolfSSL</a>, but instead generally called by using XMALLOC, which may be replaced by wolfSSL_Malloc during preprocessing. </p>
<dl class="section return"><dt>Returns</dt><dd>Success On successfully allocating the desired memory, returns a void* to that location </dd>
<dd>
NULL Returned when there is a failure to allocate memory</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>size, in bytes, of the memory to allocate</td></tr>
  </table>
  </dd>
</dl>
<p><em>Example</em> </p><div class="fragment"><div class="line"><span class="keywordtype">int</span>* tenInts = (<span class="keywordtype">int</span>*)<a class="code" href="group__memory.html#ga43cd6c1b47aded7b6e24246e1121631c">wolfSSL_Malloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*10);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__memory.html#ga7a111e7a00ab66cece6ccf8cd0f60779" title="This function calls a custom free function, if one has been defined, or simply calls the default C fr...">wolfSSL_Free</a> </dd>
<dd>
<a class="el" href="group__memory.html#ga29aa781497ad28d68f4e9dd70dbf9cf0" title="This function calls a custom realloc function, if one has been defined, or simply calls the default C...">wolfSSL_Realloc</a> </dd>
<dd>
<a class="el" href="group__types.html#gad0b82d4082e7a3624244a889b1c9d17f" title="This is not actually a function, but rather a preprocessor macro, which allows the user to substitute...">XMALLOC</a> </dd>
<dd>
<a class="el" href="group__types.html#gabd0f22726220c09d6fe995cca2ab8e1c" title="This is not actually a function, but rather a preprocessor macro, which allows the user to substitute...">XFREE</a> </dd>
<dd>
<a class="el" href="group__types.html#ga453bbd3ca6049edb834762ec34bfc1cf" title="This is not actually a function, but rather a preprocessor macro, which allows the user to substitute...">XREALLOC</a> </dd></dl>

</div>
</div>
<a id="gacda3d17a7af62ac899084ecdeccf378f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacda3d17a7af62ac899084ecdeccf378f">&#9670;&nbsp;</a></span>wolfSSL_MemoryPaddingSz()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WOLFSSL_API int wolfSSL_MemoryPaddingSz </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is available when static memory feature is used (&ndash;enable-staticmemory). It gives the size of padding needed for each partition of memory. This padding size will be the size needed to contain a memory management structure along with any extra for memory alignment. </p>
<dl class="section return"><dt>Returns</dt><dd>On successfully memory padding calculation the return value will be a positive value </dd>
<dd>
All negative values are considered error cases.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td>No parameters.</td></tr>
  </table>
  </dd>
</dl>
<p><em>Example</em> </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> padding;</div><div class="line">padding = <a class="code" href="group__memory.html#gacda3d17a7af62ac899084ecdeccf378f">wolfSSL_MemoryPaddingSz</a>();</div><div class="line"><span class="keywordflow">if</span> (padding &lt; 0) { <span class="comment">//handle error case }</span></div><div class="line">printf(“The padding size needed <span class="keywordflow">for each</span> \”bucket\” of memory is %d\n”, padding);</div><div class="line"><span class="comment">// calculation of buffer for IO POOL size is number of buckets times (padding + WOLFMEM_IO_SZ)</span></div><div class="line">...</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__memory.html#ga43cd6c1b47aded7b6e24246e1121631c" title="This function calls the custom malloc function, if one has been defined, or simply calls the default ...">wolfSSL_Malloc</a> </dd>
<dd>
<a class="el" href="group__memory.html#ga7a111e7a00ab66cece6ccf8cd0f60779" title="This function calls a custom free function, if one has been defined, or simply calls the default C fr...">wolfSSL_Free</a> </dd></dl>

</div>
</div>
<a id="ga29aa781497ad28d68f4e9dd70dbf9cf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29aa781497ad28d68f4e9dd70dbf9cf0">&#9670;&nbsp;</a></span>wolfSSL_Realloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WOLFSSL_API void* wolfSSL_Realloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calls a custom realloc function, if one has been defined, or simply calls the default C realloc function if no custom function exists. It is not called directly by <a class="el" href="namespacewolfSSL.html">wolfSSL</a>, but instead generally called by using XREALLOC, which may be replaced by wolfSSL_Realloc during preprocessing. </p>
<dl class="section return"><dt>Returns</dt><dd>Success On successfully reallocating the desired memory, returns a void* to that location </dd>
<dd>
NULL Returned when there is a failure to reallocate memory</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>pointer to the memory to the memory to reallocate </td></tr>
    <tr><td class="paramname">size</td><td>desired size after reallocation</td></tr>
  </table>
  </dd>
</dl>
<p><em>Example</em> </p><div class="fragment"><div class="line"><span class="keywordtype">int</span>* tenInts = (<span class="keywordtype">int</span>*)<a class="code" href="group__memory.html#ga43cd6c1b47aded7b6e24246e1121631c">wolfSSL_Malloc</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*10);</div><div class="line"><span class="keywordtype">int</span>* twentyInts = (<span class="keywordtype">int</span>*)realloc(tenInts, <span class="keyword">sizeof</span>(tenInts)*2);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__memory.html#ga43cd6c1b47aded7b6e24246e1121631c" title="This function calls the custom malloc function, if one has been defined, or simply calls the default ...">wolfSSL_Malloc</a> </dd>
<dd>
<a class="el" href="group__memory.html#ga7a111e7a00ab66cece6ccf8cd0f60779" title="This function calls a custom free function, if one has been defined, or simply calls the default C fr...">wolfSSL_Free</a> </dd>
<dd>
<a class="el" href="group__types.html#gad0b82d4082e7a3624244a889b1c9d17f" title="This is not actually a function, but rather a preprocessor macro, which allows the user to substitute...">XMALLOC</a> </dd>
<dd>
<a class="el" href="group__types.html#gabd0f22726220c09d6fe995cca2ab8e1c" title="This is not actually a function, but rather a preprocessor macro, which allows the user to substitute...">XFREE</a> </dd>
<dd>
<a class="el" href="group__types.html#ga453bbd3ca6049edb834762ec34bfc1cf" title="This is not actually a function, but rather a preprocessor macro, which allows the user to substitute...">XREALLOC</a> </dd></dl>

</div>
</div>
<a id="ga47a9702df2b8249d1a5002509d0a64ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga47a9702df2b8249d1a5002509d0a64ad">&#9670;&nbsp;</a></span>wolfSSL_SetAllocators()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WOLFSSL_API int wolfSSL_SetAllocators </td>
          <td>(</td>
          <td class="paramtype">wolfSSL_Malloc_cb&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wolfSSL_Free_cb&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wolfSSL_Realloc_cb&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function registers the allocation functions used by <a class="el" href="namespacewolfSSL.html">wolfSSL</a>. By default, if the system supports it, malloc/free and realloc are used. Using this function allows the user at runtime to install their own memory handlers. </p>
<dl class="section return"><dt>Returns</dt><dd>Success If successful this function will return 0. </dd>
<dd>
BAD_FUNC_ARG is the error that will be returned if a function pointer is not provided.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">malloc_function</td><td>memory allocation function for <a class="el" href="namespacewolfSSL.html">wolfSSL</a> to use. Function signature must match wolfSSL_Malloc_cb prototype, above. </td></tr>
    <tr><td class="paramname">free_function</td><td>memory free function for <a class="el" href="namespacewolfSSL.html">wolfSSL</a> to use. Function signature must match wolfSSL_Free_cb prototype, above. </td></tr>
    <tr><td class="paramname">realloc_function</td><td>memory re-allocation function for <a class="el" href="namespacewolfSSL.html">wolfSSL</a> to use. Function signature must match wolfSSL_Realloc_cb prototype, above.</td></tr>
  </table>
  </dd>
</dl>
<p><em>Example</em> </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> ret = 0;</div><div class="line"><span class="comment">// Memory function prototypes</span></div><div class="line"><span class="keywordtype">void</span>* MyMalloc(<span class="keywordtype">size_t</span> size);</div><div class="line"><span class="keywordtype">void</span>  MyFree(<span class="keywordtype">void</span>* ptr);</div><div class="line"><span class="keywordtype">void</span>* MyRealloc(<span class="keywordtype">void</span>* ptr, <span class="keywordtype">size_t</span> size);</div><div class="line"></div><div class="line"><span class="comment">// Register custom memory functions with wolfSSL</span></div><div class="line">ret = <a class="code" href="group__memory.html#ga47a9702df2b8249d1a5002509d0a64ad">wolfSSL_SetAllocators</a>(MyMalloc, MyFree, MyRealloc);</div><div class="line"><span class="keywordflow">if</span> (ret != 0) {</div><div class="line">    <span class="comment">// failed to set memory functions</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span>* MyMalloc(<span class="keywordtype">size_t</span> size)</div><div class="line">{</div><div class="line">    <span class="comment">// custom malloc function</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> MyFree(<span class="keywordtype">void</span>* ptr)</div><div class="line">{</div><div class="line">    <span class="comment">// custom free function</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span>* MyRealloc(<span class="keywordtype">void</span>* ptr, <span class="keywordtype">size_t</span> size)</div><div class="line">{</div><div class="line">    <span class="comment">// custom realloc function</span></div><div class="line">}</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd>none </dd></dl>

</div>
</div>
<a id="gaa631515e3a98f7db946125c3c67b7181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa631515e3a98f7db946125c3c67b7181">&#9670;&nbsp;</a></span>wolfSSL_StaticBufferSz()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WOLFSSL_API int wolfSSL_StaticBufferSz </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">word32&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is available when static memory feature is used (&ndash;enable-staticmemory). It gives the optimum buffer size for memory “buckets”. This allows for a way to compute buffer size so that no extra unused memory is left at the end after it has been partitioned. The returned value, if positive, is the computed buffer size to use. </p>
<dl class="section return"><dt>Returns</dt><dd>Success On successfully completing buffer size calculations a positive value is returned. This returned value is for optimum buffer size. </dd>
<dd>
Failure All negative values are considered to be error cases.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer to buffer </td></tr>
    <tr><td class="paramname">size</td><td>size of buffer </td></tr>
    <tr><td class="paramname">type</td><td>desired type of memory ie WOLFMEM_GENERAL or WOLFMEM_IO_POOL</td></tr>
  </table>
  </dd>
</dl>
<p><em>Example</em> </p><div class="fragment"><div class="line">byte buffer[1000];</div><div class="line">word32 size = <span class="keyword">sizeof</span>(buffer);</div><div class="line"><span class="keywordtype">int</span> optimum;</div><div class="line">optimum = <a class="code" href="group__memory.html#gaa631515e3a98f7db946125c3c67b7181">wolfSSL_StaticBufferSz</a>(buffer, size, WOLFMEM_GENERAL);</div><div class="line"><span class="keywordflow">if</span> (optimum &lt; 0) { <span class="comment">//handle error case }</span></div><div class="line">printf(“The optimum buffer size to make use of all memory is %d\n”, optimum);</div><div class="line">...</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__memory.html#ga43cd6c1b47aded7b6e24246e1121631c" title="This function calls the custom malloc function, if one has been defined, or simply calls the default ...">wolfSSL_Malloc</a> </dd>
<dd>
<a class="el" href="group__memory.html#ga7a111e7a00ab66cece6ccf8cd0f60779" title="This function calls a custom free function, if one has been defined, or simply calls the default C fr...">wolfSSL_Free</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
